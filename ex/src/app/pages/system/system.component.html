<div
  *ngIf="topologyError$ | async as topologyError"
  class="alert no-topology gap-s"
  role="alert"
>
  <!-- TODO: Update when designs are avaliable -->
  <h4 class="alert-header grav-text-header-3">
    {{ 'General.ApiError' | transloco }}
  </h4>
  <p class="alert-description grav-text-body-small">{{ topologyError }}</p>
  <ng-container *ngTemplateOutlet="notFoundSVG"></ng-container>
</div>
<grav-svg-map
  *ngIf="sourceId$ | async as sourceId"
  (ready)="initializeMap($event, sourceId)"
></grav-svg-map>

<ng-template #notFoundSVG>
  <svg
    class="alert-illustration"
    fill="none"
    height="160"
    viewBox="0 50 160 160"
    width="160"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      clip-rule="evenodd"
      d="M113.82 132a46.69 46.69 0 1 0-74.26 0h74.26Z"
      fill="#DAEAF3"
      fill-rule="evenodd"
    />
    <path d="M9 131.5h10M25 131.5h125" stroke="#2B6792" />
    <path
      clip-rule="evenodd"
      d="m105.36 67-13.91 61.31h32.45L110 67h-4.64Z"
      fill="#F5F5F5"
      fill-rule="evenodd"
    />
    <path
      clip-rule="evenodd"
      d="m105.36 67-13.91 61.31h32.45L110 67h-4.64Z"
      fill="#F5F5F5"
      fill-rule="evenodd"
    />
    <path
      clip-rule="evenodd"
      d="M115.18 128.31 108.71 67h1.22l13.78 61.31h-8.53Z"
      fill="#D9D9D9"
      fill-rule="evenodd"
      opacity=".5"
    />
    <path
      clip-rule="evenodd"
      d="m94 128.31 9.84-49.17L106.29 67h.63l-8.33 61.31H94Z"
      fill="#fff"
      fill-rule="evenodd"
    />
    <path
      clip-rule="evenodd"
      d="m97.44 101.92 3.28-14.48h13.9l3.29 14.48H97.44Zm23.37 12.77 3.09 13.62H91.45l3.09-13.62h26.27Zm-8.7-38.32h-8.88l2.13-9.37h4.63l2.13 9.37Z"
      fill="#A5CDE0"
      fill-rule="evenodd"
    />
    <path
      clip-rule="evenodd"
      d="m99.28 101.92 2.9-14.48h1.96l-1.97 14.48h-2.89ZM94 128.31l2.73-13.63h3.7L98.6 128.3H94ZM106.92 67l-1.27 9.37h-1.26l1.9-9.37h.63Z"
      fill="#DAEAF3"
      fill-rule="evenodd"
    />
    <path
      clip-rule="evenodd"
      d="m109.7 76.37-1-9.37h1.23l2.1 9.37h-2.33Zm2.7 25.55-1.54-14.48h3.66l3.26 14.48h-5.39Zm2.78 26.4-1.44-13.63h6.9l3.07 13.62h-8.53Z"
      fill="#6BACCC"
      fill-rule="evenodd"
    />
    <path
      clip-rule="evenodd"
      d="M91.45 128.31h32.45L110 67h-4.64l-13.91 61.31Zm.8-.64h30.85l-13.62-60.03h-3.62l-13.61 60.03Z"
      fill="#2B6792"
      fill-rule="evenodd"
    />
    <path
      d="M90.6 129.31a1 1 0 0 1 1-1h32.06a1 1 0 0 1 1 1v1.7H90.6v-1.7Z"
      fill="#A5CDE0"
    />
    <path
      clip-rule="evenodd"
      d="M125.41 131.77H89.85v-2.46c0-.96.78-1.75 1.75-1.75h32.06c.97 0 1.75.79 1.75 1.75v2.46Zm-34.81-2.5a1 1 0 0 1 1-.96h32.06a1 1 0 0 1 1 .96V131H90.6v-1.74Z"
      fill="#2B6792"
      fill-rule="evenodd"
    />
    <path
      d="M91.45 129.31a1 1 0 0 1 1-1h9.22c-6.12.1-7.17.69-7.52 2.7h-2.7v-1.7Z"
      fill="#DAEAF3"
    />
    <path
      d="M119.13 128.31h4.53a1 1 0 0 1 1 1v1.7h-11.92c.26-2.01 1.69-2.55 6.39-2.7Z"
      fill="#6BACCC"
    />
    <path
      clip-rule="evenodd"
      d="M102.17 127.1 45.98 98.87l-7.78 31.5 62.86 1.21 1.1-4.5Z"
      fill="#F5F5F5"
      fill-rule="evenodd"
    />
    <path
      clip-rule="evenodd"
      d="M102.17 127.1 45.98 98.87l-7.78 31.5 62.86 1.21 1.1-4.5Z"
      fill="#F5F5F5"
      fill-rule="evenodd"
    />
    <path
      clip-rule="evenodd"
      d="m40.29 121.92 61.07 8.42-.29 1.19-62.83-1.33 2.05-8.28Z"
      fill="#D9D9D9"
      fill-rule="evenodd"
      opacity=".5"
    />
    <path
      clip-rule="evenodd"
      d="m45.64 100.24 45.23 22.23 11.09 5.47-.17.67-57.34-23.52 1.2-4.85Z"
      fill="#fff"
      fill-rule="evenodd"
    />
    <path
      clip-rule="evenodd"
      d="m70.17 111.03 13.27 6.66-3.34 13.5-14.84-.29 4.91-19.87Zm-18 19.62-13.97-.27 7.78-31.5 12.49 6.27-6.3 25.5Zm39.28.76 2.13-8.63 8.59 4.31-1.11 4.5-9.6-.18Z"
      fill="#A5CDE0"
      fill-rule="evenodd"
    />
    <path
      clip-rule="evenodd"
      d="m69.9 112.16 13.29 6.53-.51 2.08-13.54-5.55.75-3.06Zm-24.26-11.92 12.52 6.15-.97 3.92-12.74-5.22 1.2-4.85Zm56.15 28.37-8.76-3.6.33-1.32 8.6 4.25-.17.67Z"
      fill="#DAEAF3"
      fill-rule="evenodd"
    />
    <path
      clip-rule="evenodd"
      d="m92.03 129.06 9.33 1.28-.29 1.19-9.6-.2.56-2.27Zm-25.45-3.51L81 127.54l-.87 3.55-14.84-.32 1.3-5.22Zm-26.3-3.63 13.58 1.87-1.66 6.7-13.96-.29 2.05-8.28Z"
      fill="#6BACCC"
      fill-rule="evenodd"
    />
    <path
      clip-rule="evenodd"
      d="m45.98 98.88-7.78 31.5 62.86 1.21 1.1-4.5-56.18-28.2Zm.43.93L39 129.76l61.55 1.18.86-3.5L46.41 99.8Z"
      fill="#2B6792"
      fill-rule="evenodd"
    />
    <path
      d="M45.21 97.82a1 1 0 0 1 .73 1.2l-7.69 31.13a1 1 0 0 1-1.2.73l-1.66-.4 8.17-33.07 1.65.4Z"
      fill="#A5CDE0"
    />
    <path
      clip-rule="evenodd"
      d="m34.48 131.02 8.53-34.52 2.38.59a1.75 1.75 0 0 1 1.28 2.12l-7.69 31.12a1.75 1.75 0 0 1-2.12 1.28l-2.38-.59Zm10.78-33.2a1 1 0 0 1 .68 1.2l-7.69 31.13a1 1 0 0 1-1.16.74h-.05l-1.65-.41 8.17-33.07 1.65.4.05.02Z"
      fill="#2B6792"
      fill-rule="evenodd"
    />
    <path
      d="M45 98.64a1 1 0 0 1 .74 1.21l-2.21 8.95c1.37-5.96 1.05-7.12-.82-7.94l.65-2.63 1.65.41Z"
      fill="#DAEAF3"
    />
    <path
      d="m39.34 125.75-1.09 4.4a1 1 0 0 1-1.2.73l-1.66-.4 2.86-11.58c1.9.74 2.08 2.25 1.09 6.85Z"
      fill="#6BACCC"
    />
  </svg>
</ng-template>
